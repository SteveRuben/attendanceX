import{w as k,j as e,a as x,S as E,L as A}from"./index-gm4XY7Dh.js";import{r as i,d as L,L as h}from"./vendor-CvUQ7FSA.js";import{C as u,a as g,b as F,c as P}from"./Card-ct0JxCCf.js";import{I as T}from"./Input-BoijLIkg.js";import{L as B}from"./label-B3NocW4B.js";import{A as f,a as j}from"./alert-dbwOQxjT.js";import{C as I}from"./circle-check-big-eEft8Q46.js";import{I as q}from"./info-b7pG8t1m.js";import{A as y}from"./arrow-left-yMfWrytx.js";import{C as D}from"./circle-alert-B-efKsjX.js";import{M as p}from"./mail-Bm_S11fa.js";import"./firebase-De9GV7Vy.js";const V=()=>{const[r,N]=i.useState(""),[n,m]=i.useState(!1),[v,c]=i.useState(!1),[a,t]=i.useState({}),{forgotPassword:b,isAuthenticated:d}=k(),o=L();i.useEffect(()=>{d&&o("/dashboard",{replace:!0})},[d,o]);const w=()=>{const s={};return r?/\S+@\S+\.\S+/.test(r)||(s.email="Please enter a valid email address"):s.email="Email is required",t(s),Object.keys(s).length===0},C=async s=>{if(s.preventDefault(),!!w()){m(!0),t({});try{await b(r),c(!0)}catch(l){l.message.includes("User not found")?t({email:"No account found with this email address"}):l.message.includes("Too many requests")?t({general:"Too many reset attempts. Please try again later."}):t({general:l.message||"Failed to send recovery email. Please try again."})}finally{m(!1)}}},S=s=>{N(s.target.value),a.email&&t(l=>({...l,email:""}))};return v?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"text-white w-6 h-6"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check your email"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"We've sent a recovery link to your email"})]}),e.jsx(u,{className:"bg-white border-gray-200 shadow-sm",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"We've sent a password recovery link to:"}),e.jsx("p",{className:"font-medium text-gray-900 bg-gray-50 p-3 rounded-lg",children:r}),e.jsxs(f,{className:"text-left",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsxs(j,{children:[e.jsx("strong",{children:"Tip:"})," Check your spam folder if you don't receive the email within 5 minutes."]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(x,{asChild:!0,className:"w-full bg-gray-900 text-white hover:bg-gray-800 font-medium",children:e.jsxs(h,{to:"/login",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Back to sign in"]})})})]})})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Didn't receive the email?"," ",e.jsx("button",{onClick:()=>c(!1),className:"text-gray-700 hover:text-gray-900 hover:underline font-medium",children:"Try again"})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-lg flex items-center justify-center",children:e.jsx(E,{className:"text-white w-6 h-6"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Forgot password?"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email to receive a recovery link"})]}),e.jsxs(u,{className:"bg-white border-gray-200 shadow-sm",children:[e.jsx(F,{className:"space-y-1 pb-6",children:e.jsx(P,{className:"text-xl text-center text-gray-900",children:"Reset password"})}),e.jsxs(g,{children:[a.general&&e.jsxs(f,{className:"mb-4",variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(j,{children:a.general})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"email",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none z-10"}),e.jsx(T,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:S,className:`pl-10 w-full ${a.email?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"Enter your email address"})]}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs(x,{type:"submit",disabled:n,className:"w-full bg-gray-900 text-white hover:bg-gray-800 font-medium",children:[n?e.jsx(A,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(p,{className:"w-4 h-4 mr-2"}),n?"Sending...":"Send recovery link"]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Remember your password?"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(h,{to:"/login",className:"text-gray-700 hover:text-gray-900 font-medium hover:underline inline-flex items-center",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Back to sign in"]})})]})]})]})]})})};export{V as default};
//# sourceMappingURL=ForgotPassword-BLmd9QKV.js.map
