{"version":3,"file":"UsersList-B842MtTQ.js","sources":["../../src/pages/Users/UsersList.tsx"],"sourcesContent":["// src/pages/Users/UsersList.tsx - Liste des utilisateurs avec gestion des rôles\r\nimport { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth, usePermissions } from '@/hooks/use-auth';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { \r\n  Users, \r\n  Search, \r\n  Plus, \r\n  Mail, \r\n  Phone,\r\n  Building,\r\n  Calendar,\r\n  MoreHorizontal,\r\n  Edit,\r\n  Trash2,\r\n  UserCheck,\r\n  UserX,\r\n  Shield\r\n} from 'lucide-react';\r\nimport { userService } from '@/services';\r\nimport type { User, UserRole, UserStatus } from '@attendance-x/shared';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface UserFilters {\r\n  search: string;\r\n  role: UserRole | 'all';\r\n  status: UserStatus | 'all';\r\n  department: string;\r\n}\r\n\r\nconst UsersList = () => {\r\n  const { user: currentUser } = useAuth();\r\n  const { canManageUsers, isAdmin } = usePermissions();\r\n  const navigate = useNavigate();\r\n  \r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState<UserFilters>({\r\n    search: '',\r\n    role: 'all',\r\n    status: 'all',\r\n    department: ''\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    totalPages: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, [filters, pagination.page]);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const params: any = {\r\n        page: pagination.page,\r\n        limit: pagination.limit\r\n      };\r\n\r\n      if (filters.search) params.search = filters.search;\r\n      if (filters.role !== 'all') params.role = filters.role;\r\n      if (filters.status !== 'all') params.status = filters.status;\r\n      if (filters.department) params.department = filters.department;\r\n\r\n      const response = await userService.getUsers(params);\r\n      \r\n      if (response.success && response.data) {\r\n        setUsers(response.data.data);\r\n        setPagination(prev => ({\r\n          ...prev,\r\n          total: response.data.pagination.total,\r\n          totalPages: response.data.pagination.totalPages\r\n        }));\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error loading users:', error);\r\n      toast.error('Erreur lors du chargement des utilisateurs');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (value: string) => {\r\n    setFilters(prev => ({ ...prev, search: value }));\r\n    setPagination(prev => ({ ...prev, page: 1 }));\r\n  };\r\n\r\n  const handleFilterChange = (key: keyof UserFilters, value: any) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n    setPagination(prev => ({ ...prev, page: 1 }));\r\n  };\r\n\r\n  const getRoleBadge = (role: UserRole) => {\r\n    const roleConfig = {\r\n      super_admin: { variant: 'destructive' as const, label: 'Super Admin', icon: Shield },\r\n      admin: { variant: 'destructive' as const, label: 'Admin', icon: Shield },\r\n      organizer: { variant: 'default' as const, label: 'Organisateur', icon: Users },\r\n      moderator: { variant: 'secondary' as const, label: 'Modérateur', icon: UserCheck },\r\n      analyst: { variant: 'outline' as const, label: 'Analyste', icon: Users },\r\n      participant: { variant: 'outline' as const, label: 'Participant', icon: Users }\r\n    };\r\n\r\n    const config = roleConfig[role] || { variant: 'outline' as const, label: role, icon: Users };\r\n    const IconComponent = config.icon;\r\n    \r\n    return (\r\n      <Badge variant={config.variant} className=\"flex items-center gap-1\">\r\n        <IconComponent className=\"w-3 h-3\" />\r\n        {config.label}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const getStatusBadge = (status: UserStatus) => {\r\n    const statusConfig = {\r\n      active: { variant: 'default' as const, label: 'Actif' },\r\n      inactive: { variant: 'secondary' as const, label: 'Inactif' },\r\n      pending: { variant: 'outline' as const, label: 'En attente' },\r\n      suspended: { variant: 'destructive' as const, label: 'Suspendu' }\r\n    };\r\n\r\n    const config = statusConfig[status] || { variant: 'outline' as const, label: status };\r\n    return <Badge variant={config.variant}>{config.label}</Badge>;\r\n  };\r\n\r\n  const getUserInitials = (user: User) => {\r\n    if (user.firstName && user.lastName) {\r\n      return `${user.firstName[0]}${user.lastName[0]}`.toUpperCase();\r\n    }\r\n    if (user.displayName) {\r\n      const names = user.displayName.split(' ');\r\n      return names.length > 1 \r\n        ? `${names[0][0]}${names[1][0]}`.toUpperCase()\r\n        : names[0][0].toUpperCase();\r\n    }\r\n    return user.email[0].toUpperCase();\r\n  };\r\n\r\n  const handleChangeUserStatus = async (userId: string, newStatus: UserStatus) => {\r\n    try {\r\n      const response = await userService.changeUserStatus(userId, newStatus);\r\n      if (response.success) {\r\n        toast.success('Statut utilisateur mis à jour');\r\n        loadUsers();\r\n      }\r\n    } catch (error: any) {\r\n      toast.error('Erreur lors de la mise à jour du statut');\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('fr-FR', {\r\n      day: 'numeric',\r\n      month: 'short',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  if (loading && users.length === 0) {\r\n    return (\r\n      <div className=\"container-fluid py-6\">\r\n        <div className=\"animate-pulse space-y-6\">\r\n          <div className=\"h-8 bg-muted rounded w-1/3\"></div>\r\n          <div className=\"grid gap-4\">\r\n            {[...Array(5)].map((_, i) => (\r\n              <div key={i} className=\"h-24 bg-muted rounded\"></div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid py-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Utilisateurs</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Gérez les utilisateurs et leurs permissions\r\n          </p>\r\n        </div>\r\n        {canManageUsers && (\r\n          <Button onClick={() => navigate('/users/create')}>\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            Nouvel utilisateur\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card>\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4\" />\r\n                <Input\r\n                  placeholder=\"Rechercher des utilisateurs...\"\r\n                  value={filters.search}\r\n                  onChange={(e) => handleSearch(e.target.value)}\r\n                  className=\"pl-10\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <Select value={filters.role} onValueChange={(value) => handleFilterChange('role', value)}>\r\n              <SelectTrigger className=\"w-[180px]\">\r\n                <SelectValue placeholder=\"Rôle\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">Tous les rôles</SelectItem>\r\n                <SelectItem value=\"super_admin\">Super Admin</SelectItem>\r\n                <SelectItem value=\"admin\">Admin</SelectItem>\r\n                <SelectItem value=\"organizer\">Organisateur</SelectItem>\r\n                <SelectItem value=\"moderator\">Modérateur</SelectItem>\r\n                <SelectItem value=\"analyst\">Analyste</SelectItem>\r\n                <SelectItem value=\"participant\">Participant</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <Select value={filters.status} onValueChange={(value) => handleFilterChange('status', value)}>\r\n              <SelectTrigger className=\"w-[180px]\">\r\n                <SelectValue placeholder=\"Statut\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">Tous les statuts</SelectItem>\r\n                <SelectItem value=\"active\">Actif</SelectItem>\r\n                <SelectItem value=\"inactive\">Inactif</SelectItem>\r\n                <SelectItem value=\"pending\">En attente</SelectItem>\r\n                <SelectItem value=\"suspended\">Suspendu</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Users List */}\r\n      <div className=\"space-y-4\">\r\n        {users.length > 0 ? (\r\n          users.map((user) => (\r\n            <Card key={user.id} className=\"card-interactive\">\r\n              <CardContent className=\"p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <Avatar className=\"w-12 h-12\">\r\n                      <AvatarImage src={user.profilePicture} />\r\n                      <AvatarFallback>{getUserInitials(user)}</AvatarFallback>\r\n                    </Avatar>\r\n                    \r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center space-x-3 mb-1\">\r\n                        <h3 className=\"text-lg font-semibold text-foreground\">\r\n                          {user.displayName || `${user.firstName} ${user.lastName}`}\r\n                        </h3>\r\n                        {getRoleBadge(user.role)}\r\n                        {getStatusBadge(user.status)}\r\n                      </div>\r\n                      \r\n                      <div className=\"flex flex-wrap items-center gap-4 text-sm text-muted-foreground\">\r\n                        <div className=\"flex items-center\">\r\n                          <Mail className=\"w-4 h-4 mr-1\" />\r\n                          {user.email}\r\n                        </div>\r\n                        {user.phone && (\r\n                          <div className=\"flex items-center\">\r\n                            <Phone className=\"w-4 h-4 mr-1\" />\r\n                            {user.phone}\r\n                          </div>\r\n                        )}\r\n                        {user.department && (\r\n                          <div className=\"flex items-center\">\r\n                            <Building className=\"w-4 h-4 mr-1\" />\r\n                            {user.department}\r\n                          </div>\r\n                        )}\r\n                        <div className=\"flex items-center\">\r\n                          <Calendar className=\"w-4 h-4 mr-1\" />\r\n                          Inscrit le {formatDate(user.createdAt)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Button variant=\"outline\" size=\"sm\" asChild>\r\n                      <Link to={`/users/${user.id}`}>\r\n                        Voir profil\r\n                      </Link>\r\n                    </Button>\r\n                    \r\n                    {canManageUsers && user.id !== currentUser?.id && (\r\n                      <>\r\n                        {user.status === 'active' ? (\r\n                          <Button \r\n                            variant=\"outline\" \r\n                            size=\"sm\"\r\n                            onClick={() => handleChangeUserStatus(user.id, 'inactive')}\r\n                          >\r\n                            <UserX className=\"w-4 h-4 mr-2\" />\r\n                            Désactiver\r\n                          </Button>\r\n                        ) : (\r\n                          <Button \r\n                            variant=\"outline\" \r\n                            size=\"sm\"\r\n                            onClick={() => handleChangeUserStatus(user.id, 'active')}\r\n                          >\r\n                            <UserCheck className=\"w-4 h-4 mr-2\" />\r\n                            Activer\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        <Button variant=\"outline\" size=\"sm\" asChild>\r\n                          <Link to={`/users/${user.id}/edit`}>\r\n                            <Edit className=\"w-4 h-4 mr-2\" />\r\n                            Modifier\r\n                          </Link>\r\n                        </Button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))\r\n        ) : (\r\n          <Card>\r\n            <CardContent className=\"p-12 text-center\">\r\n              <Users className=\"w-12 h-12 text-muted-foreground mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-foreground mb-2\">\r\n                Aucun utilisateur trouvé\r\n              </h3>\r\n              <p className=\"text-muted-foreground mb-4\">\r\n                {filters.search || filters.role !== 'all' || filters.status !== 'all'\r\n                  ? 'Aucun utilisateur ne correspond à vos critères de recherche.'\r\n                  : 'Aucun utilisateur n\\'est encore enregistré.'\r\n                }\r\n              </p>\r\n              {canManageUsers && (\r\n                <Button onClick={() => navigate('/users/create')}>\r\n                  <Plus className=\"w-4 h-4 mr-2\" />\r\n                  Inviter des utilisateurs\r\n                </Button>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {pagination.totalPages > 1 && (\r\n        <div className=\"flex items-center justify-between\">\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Affichage de {((pagination.page - 1) * pagination.limit) + 1} à{' '}\r\n            {Math.min(pagination.page * pagination.limit, pagination.total)} sur {pagination.total} utilisateurs\r\n          </p>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\r\n              disabled={pagination.page === 1}\r\n            >\r\n              Précédent\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\r\n              disabled={pagination.page === pagination.totalPages}\r\n            >\r\n              Suivant\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersList;"],"names":["UsersList","currentUser","useAuth","canManageUsers","usePermissions","navigate","useNavigate","users","setUsers","useState","loading","setLoading","filters","setFilters","pagination","setPagination","useEffect","loadUsers","params","response","userService","prev","error","toast","handleSearch","value","handleFilterChange","key","getRoleBadge","role","config","Shield","Users","UserCheck","IconComponent","Badge","jsx","getStatusBadge","status","getUserInitials","user","names","handleChangeUserStatus","userId","newStatus","formatDate","dateString","jsxs","_","i","Button","Plus","Card","CardContent","Search","Input","e","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Avatar","AvatarImage","AvatarFallback","Mail","Phone","Building","Calendar","Link","Fragment","UserX","Edit"],"mappings":"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"}