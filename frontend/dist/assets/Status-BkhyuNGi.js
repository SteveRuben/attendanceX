import{c as w,j as e,a as E,B as T,U as f,D as F,C as O,K as g,y as P,F as R}from"./index-gm4XY7Dh.js";import{r as l}from"./vendor-CvUQ7FSA.js";import{C as r,b as n,c as i,a as c}from"./Card-ct0JxCCf.js";import{A as B,a as q}from"./alert-dbwOQxjT.js";import{P as y}from"./progress-BSuwBYA5.js";import{R as z}from"./refresh-cw-dQTnxzmC.js";import{A as N}from"./activity-Bg5ZGORh.js";import{C as h}from"./circle-alert-B-efKsjX.js";import{C as H}from"./clock-Tx-U9-MC.js";import{C as _}from"./circle-x-B_KOwtkV.js";import{C as V}from"./circle-check-big-eEft8Q46.js";import{M as $}from"./mail-Bm_S11fa.js";import"./firebase-De9GV7Vy.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],K=w("database",X);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],v=w("server",G),le=()=>{const[t,S]=l.useState(null),[o,u]=l.useState([]),[a,C]=l.useState(null),[p,j]=l.useState(!0),[M,b]=l.useState(new Date),k=async()=>{try{const s=await g.get("/health");S(s.data)}catch(s){console.error("Failed to fetch health check:",s),P.error("Failed to fetch system health")}},A=async()=>{try{const s=await g.get("/status"),x=[{name:"API Server",status:s.data.services.auth==="operational"?"operational":"down",responseTime:Math.random()*100+50,uptime:99.9,lastChecked:new Date().toISOString(),description:"Main API server handling all requests",icon:e.jsx(v,{className:"w-4 h-4"})},{name:"Database",status:"operational",responseTime:Math.random()*50+10,uptime:99.95,lastChecked:new Date().toISOString(),description:"Primary database for user data and events",icon:e.jsx(K,{className:"w-4 h-4"})},{name:"Authentication",status:s.data.services.auth==="operational"?"operational":"degraded",responseTime:Math.random()*80+30,uptime:99.8,lastChecked:new Date().toISOString(),description:"User authentication and authorization service",icon:e.jsx(f,{className:"w-4 h-4"})},{name:"Notifications",status:s.data.services.notifications==="operational"?"operational":"degraded",responseTime:Math.random()*120+40,uptime:99.7,lastChecked:new Date().toISOString(),description:"Email and push notification service",icon:e.jsx(R,{className:"w-4 h-4"})},{name:"Email Service",status:"operational",responseTime:Math.random()*200+100,uptime:99.5,lastChecked:new Date().toISOString(),description:"Email delivery and verification service",icon:e.jsx($,{className:"w-4 h-4"})}];u(x)}catch(s){console.error("Failed to fetch service status:",s),u([{name:"API Server",status:"down",responseTime:0,uptime:0,lastChecked:new Date().toISOString(),description:"Main API server handling all requests",icon:e.jsx(v,{className:"w-4 h-4"})}])}},D=async()=>{try{const s={totalUsers:Math.floor(Math.random()*1e3)+500,activeUsers:Math.floor(Math.random()*200)+50,totalEvents:Math.floor(Math.random()*500)+100,upcomingEvents:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*80+10,memoryUsage:Math.random()*70+20,diskUsage:Math.random()*60+15,apiCalls24h:Math.floor(Math.random()*1e4)+5e3};C(s)}catch(s){console.error("Failed to fetch metrics:",s)}},m=async()=>{j(!0),await Promise.all([k(),A(),D()]),b(new Date),j(!1)};l.useEffect(()=>{m();const s=setInterval(m,3e4);return()=>clearInterval(s)},[]);const I=s=>{switch(s){case"operational":return"bg-green-500";case"degraded":return"bg-yellow-500";case"down":return"bg-red-500";case"maintenance":return"bg-blue-500";default:return"bg-gray-500"}},U=s=>{switch(s){case"operational":return e.jsx(V,{className:"w-4 h-4 text-green-600"});case"degraded":return e.jsx(h,{className:"w-4 h-4 text-yellow-600"});case"down":return e.jsx(_,{className:"w-4 h-4 text-red-600"});case"maintenance":return e.jsx(H,{className:"w-4 h-4 text-blue-600"});default:return e.jsx(h,{className:"w-4 h-4 text-gray-600"})}},L=s=>{switch(s){case"operational":return"Operational";case"degraded":return"Degraded";case"down":return"Down";case"maintenance":return"Maintenance";default:return"Unknown"}},d=o.length>0?o.every(s=>s.status==="operational")?"operational":o.some(s=>s.status==="down")?"down":"degraded":"unknown";return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Status"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time status of AttendanceX services and infrastructure"})]}),e.jsxs(E,{onClick:m,disabled:p,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(z,{className:`w-4 h-4 ${p?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"w-5 h-5"}),e.jsx("span",{children:"Overall System Status"})]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${I(d)}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",children:d==="operational"?"All Systems Operational":d==="degraded"?"Some Systems Degraded":d==="down"?"System Issues Detected":"Status Unknown"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",M.toLocaleString()]})]})]})})]}),t&&e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(i,{children:"Health Check"})}),e.jsxs(c,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsx(T,{variant:t.status==="healthy"?"default":"destructive",children:t.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Version"}),e.jsx("p",{className:"text-sm",children:t.version})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Environment"}),e.jsx("p",{className:"text-sm",children:t.environment})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Uptime"}),e.jsxs("p",{className:"text-sm",children:[Math.floor(t.uptime/3600),"h ",Math.floor(t.uptime%3600/60),"m"]})]})]}),t.memory&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Memory Usage"}),e.jsx(y,{value:t.memory.percentage,className:"w-full"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(t.memory.used/1024/1024).toFixed(1)," MB / ",(t.memory.total/1024/1024).toFixed(1)," MB"]})]})]})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(i,{children:"Services"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:o.map((s,x)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s.icon,e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[s.responseTime.toFixed(0),"ms"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Response time"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[s.uptime,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Uptime"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[U(s.status),e.jsx("span",{className:"text-sm font-medium",children:L(s.status)})]})]})]},x))})})]}),a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.totalUsers.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.activeUsers," active now"]})]})]}),e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Events"}),e.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.totalEvents.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.upcomingEvents," upcoming"]})]})]}),e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"System Load"}),e.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a.systemLoad.toFixed(1),"%"]}),e.jsx(y,{value:a.systemLoad,className:"mt-2"})]})]}),e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"API Calls (24h)"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.apiCalls24h.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["~",Math.floor(a.apiCalls24h/24),"/hour"]})]})]})]}),e.jsxs(B,{children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx(q,{children:"This page shows real-time status information. Data is automatically refreshed every 30 seconds. For historical data and detailed metrics, visit our monitoring dashboard."})]})]})};export{le as default};
//# sourceMappingURL=Status-BkhyuNGi.js.map
