{
  "name": "ðŸ“± QR Codes",
  "description": "QR code generation and validation endpoints",
  "item": [
    {
      "name": "Generate Event QR Code",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 201) {",
              "    const data = pm.response.json();",
              "    pm.globals.set('qrCodeData', data.data.qrCodeData);",
              "    pm.test('QR Code generated successfully', () => {",
              "        pm.expect(data.success).to.be.true;",
              "        pm.expect(data.data.qrCodeData).to.be.a('string');",
              "    });",
              "}"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"expiresAt\": \"2024-12-31T23:59:59Z\",\n  \"maxUsage\": 100,\n  \"timeWindow\": {\n    \"start\": \"2024-12-01T08:00:00Z\",\n    \"end\": \"2024-12-01T18:00:00Z\"\n  },\n  \"locationRadius\": {\n    \"center\": {\n      \"latitude\": 48.8566,\n      \"longitude\": 2.3522\n    },\n    \"radius\": 100\n  },\n  \"maxScansPerUser\": 1\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/qr-codes/events/{{eventId}}/generate",
          "host": ["{{baseUrl}}"],
          "path": ["qr-codes", "events", "{{eventId}}", "generate"]
        }
      }
    },
    {
      "name": "Validate QR Code",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"qrCodeData\": \"{{qrCodeData}}\",\n  \"location\": {\n    \"latitude\": 48.8566,\n    \"longitude\": 2.3522\n  }\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/qr-codes/validate",
          "host": ["{{baseUrl}}"],
          "path": ["qr-codes", "validate"]
        }
      }
    },
    {
      "name": "Regenerate QR Code",
      "request": {
        "method": "POST",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/qr-codes/events/{{eventId}}/regenerate",
          "host": ["{{baseUrl}}"],
          "path": ["qr-codes", "events", "{{eventId}}", "regenerate"]
        }
      }
    },
    {
      "name": "Deactivate QR Code",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/qr-codes/events/{{eventId}}",
          "host": ["{{baseUrl}}"],
          "path": ["qr-codes", "events", "{{eventId}}"]
        }
      }
    },
    {
      "name": "Get QR Code Stats",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/qr-codes/events/{{eventId}}/stats",
          "host": ["{{baseUrl}}"],
          "path": ["qr-codes", "events", "{{eventId}}", "stats"]
        }
      }
    },
    {
      "name": "Download QR Code Image",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/qr-codes/events/{{eventId}}/download",
          "host": ["{{baseUrl}}"],
          "path": ["qr-codes", "events", "{{eventId}}", "download"]
        }
      }
    }
  ]
}